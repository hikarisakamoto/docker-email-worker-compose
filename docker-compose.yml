version: '3.7'
volumes:
  dados:
services:
  db:
    image: postgres:9.6
    environment:
      POSTGRES_USER: 'root' 
      POSTGRES_HOST_AUTH_METHOD: trust
    volumes:
      # Volume dos dados
      - dados:/var/lib/postgresql/data
      # Scripts
      - ./scripts:/scripts
      - ./scripts/init.sql:/docker-entryponst-initdb.d/init.sql
    front-end:
      image: nginx:1.13
      volumes:
        # Site
        - ./web:/usr/share/nginx/html/
      ports:
        - 80:80
    app:
      image: python:3.6
      volumes:
        # Aplicação
        - ./app:/app
      working_dir: /app
      command: ./app.sh
      ports:
        -8080:8080
